import json\nimport traceback\nfrom concurrent.futures import ThreadPoolExecutor, ProcessPoolExecutor\nfrom typing import Callable, Union, Optional, Any, get_origin, get_args\nfrom pprint import pprint\nfrom pydantic import BaseModel, ValidationError\nfrom dataclasses import dataclass, field\nfrom llm_easy_tools.schema_generator import get_name, parameters_basemodel_from_function, LLMFunction\nfrom llm_easy_tools.types import ChatCompletion, ChatCompletionMessageToolCall, ChatCompletionMessage, Function\nimport inspect\n\nclass NoMatchingTool(Exception):\n    def __init__(self, message):\n        self.message = message\n        super().__init__(self.message)\n\n@dataclass\nclass ToolResult:\n    \